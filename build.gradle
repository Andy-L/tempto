/*
 * Copyright 2015, Teradata, Inc. All rights reserved.
 */

apply plugin: "idea"
apply plugin: "java"
apply plugin: "groovy"

plugins.withType(JavaPlugin) {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

buildscript {
  // buildscript is executed before anything, so ext variable is not yet configured
  // and some values has to be set here
  ext.teradataNexusRepositories = {
    maven {
      url 'http://jenkins.eng.hadapt.com:8081/nexus/content/groups/hadapt-deps'
    }
    maven {
      url "http://jenkins.eng.hadapt.com:8081/nexus/content/repositories/build/"
    }
  }
  repositories teradataNexusRepositories
}

allprojects {
  repositories teradataNexusRepositories
}

ext.versions = [
  assertj:              '2.0.0',
  guava:                '18.0',
  guice:                '4.0-beta5',
  log4j:                '1.2.17',
  testng:               '6.8',
  spock:                '0.7-groovy-2.0',
  slf4j:                '1.7.5',
  reportng:             '1.1.4'
]

ext.libraries = [
  assertj:              "org.assertj:assertj-core:${versions.assertj}",
  guava:                "com.google.guava:guava:${versions.guava}",
  guice:                "com.google.inject:guice:${versions.guice}",
  log4j:                "log4j:log4j:${versions.log4j}",
  testng:               "org.testng:testng:${versions.testng}",
  commons_lang3:        "org.apache.commons:commons-lang3:3.3.2",
  spock:                "org.spockframework:spock-core:0.7-groovy-2.0",
  slf4j:                ["org.slf4j:slf4j-api:${versions.slf4j}",
                         "org.slf4j:slf4j-log4j12:${versions.slf4j}"],
  reportng:             "org.uncommons:reportng:${versions.reportng}"
]

ext.test_framework_core = project(":test-framework-core")
ext.test_framework_examples = project(":test-framework-examples")

task wrapper(type: Wrapper) {
  gradleVersion = '2.3'
}
